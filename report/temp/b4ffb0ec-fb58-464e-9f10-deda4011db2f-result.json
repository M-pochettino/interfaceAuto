{"name": "修改用户", "status": "broken", "statusDetails": {"message": "TypeError: can only concatenate str (not \"NoneType\") to str", "trace": "self = <test_user_manage.TestUser object at 0x000002327EA27C10>\napi_info = {'baseInfo': {'api_name': '修改用户', 'headers': '${get_headers_auth(json)}', 'method': 'put', 'url': '/api/admin/user'}, ...: '2024-07-14 19:01:00', 'deptId': '1', 'deptName': '总裁办', ...}, 'validation': [{'eq': {'ok': True}}, {'code': 200}]}]}\n\n    @allure.story('权限管理-用户管理')\n    # 使用 pytest 的参数化装饰器，从 YAML 文件中获取测试数据\n    @pytest.mark.parametrize('api_info', read_yaml('./testcase/testManage/userManage/userManage.yaml'))\n    def test_user_module(self, api_info):\n        # 设置Allure报告中的测试标题为API名称\n        allure.dynamic.title(api_info['baseInfo']['api_name'])\n        # 使用RequestsBase类执行测试用例\n>       RequestsBase().execute_test_cases(api_info)\n\ntestcase\\testManage\\userManage\\test_user_manage.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nunit_tools\\apiutils_business.py:211: in execute_test_cases\n    raise e\nunit_tools\\apiutils_business.py:97: in execute_test_cases\n    headers = eval(self.parse_and_replace_variables(headers)) if isinstance(headers, str) else headers\nunit_tools\\apiutils_business.py:50: in parse_and_replace_variables\n    extract_data = getattr(DebugTalk(), func_name)(*func_params)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncls = <class 'unit_tools.debugtalk.DebugTalk'>, params_type = 'json'\n\n    @classmethod\n    def get_headers_auth(cls, params_type):\n        \"\"\"\n        获取带有授权信息的请求头\n        :param params_type: 参数类型，如“data”或“json”\n        :return: 返回带有授权信息的请求头\n        \"\"\"\n        auth1 = get_extract_yaml(\"access_token\", None)  # 从extract.yaml文件中获取access_token\n>       auth2 = 'Bearer ' + auth1   # 拼接成完整的授权信息\nE       TypeError: can only concatenate str (not \"NoneType\") to str\n\nunit_tools\\debugtalk.py:87: TypeError"}, "attachments": [{"name": "log", "source": "51d82f5e-bbb5-4234-bfb9-0e6f3e80fd25-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "api_info", "value": "{'baseInfo': {'api_name': '修改用户', 'url': '/api/admin/user', 'method': 'put', 'headers': '${get_headers_auth(json)}'}, 'testCase': [{'case_name': '修改用户', 'json': {'userId': '${get_extract_info(user_id)}', 'username': 'guiying48', 'salt': None, 'wxOpenid': None, 'qqOpenid': None, 'giteeOpenId': None, 'oscOpenId': None, 'createTime': '2024-07-14 19:01:00', 'updateTime': None, 'lockFlag': '0', 'passwordExpireFlag': '0', 'passwordModifyTime': '2024-07-14 19:01:00', 'phone': '155****4063', 'avatar': None, 'deptId': '1', 'tenantId': '1', 'deptName': '总裁办', 'roleList': [{'roleId': '1', 'roleName': '管理员', 'roleCode': 'ROLE_ADMIN', 'roleDesc': '管理员', 'dsType': 0, 'dsScope': '', 'createBy': None, 'updateBy': None, 'createTime': '2017-10-29 15:45:51', 'updateTime': '2023-04-06 14:03:28', 'delFlag': '0'}], 'postList': [{'postId': '1', 'postCode': 'TEAM_LEADER', 'postName': '部门负责人', 'postSort': 0, 'remark': 'LEADER', 'createBy': None, 'updateBy': None, 'delFlag': '0', 'createTime': '2022-03-26 13:48:17', 'updateTime': '2023-03-08 16:03:35'}], 'nickname': '张桂珍', 'name': '张龙', 'email': 'xiuyingpan@example.com', 'wxCpUserid': None, 'wxDingUserid': None}, 'validation': [{'eq': {'ok': True}}, {'code': 200}]}]}"}], "start": 1725989450145, "stop": 1725989450147, "uuid": "198a9faf-2fc3-4f47-8294-71e1919c7eda", "historyId": "2b8b17b8c9a8a9ad041f06f7a5ea43c6", "testCaseId": "a01666a6f815020ce648a49000d6928d", "fullName": "testcase.testManage.userManage.test_user_manage.TestUser#test_user_module", "labels": [{"name": "story", "value": "权限管理-用户管理"}, {"name": "parentSuite", "value": "testcase.testManage.userManage"}, {"name": "suite", "value": "test_user_manage"}, {"name": "subSuite", "value": "TestUser"}, {"name": "host", "value": "DESKTOP-NN9GVHM"}, {"name": "thread", "value": "17552-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.testManage.userManage.test_user_manage"}]}