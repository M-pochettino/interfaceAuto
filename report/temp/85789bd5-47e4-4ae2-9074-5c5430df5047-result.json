{"name": "修改角色", "status": "broken", "statusDetails": {"message": "TypeError: can only concatenate str (not \"NoneType\") to str", "trace": "self = <test_public_manage.TestPublic object at 0x000002327E9CB3A0>\napi_info = {'baseInfo': {'api_name': '修改角色', 'headers': '${get_headers_auth(json)}', 'method': 'put', 'model': '权限管理-角色管理', ...},...me': '2024-07-20 14:56:25', 'delFlag': '0', 'dsScope': '', ...}, 'validation': [{'eq': {'ok': True}}, {'code': 200}]}]}\n\n    @pytest.mark.parametrize('api_info', get_excel_data('./testcase/excel/publicManage.xlsx'))\n    def test_public_module(self, api_info):\n        # 添加测试报告的动态故事（Story）和动态标题（Title），从测试数据中获取基本信息\n        allure.dynamic.story(api_info['baseInfo']['model'])\n        allure.dynamic.title(api_info['baseInfo']['api_name'])\n        # 调用 RequestsBase 类的 execute_test_cases 方法执行测试用例\n>       RequestsBase().execute_test_cases(api_info)\n\ntestcase\\testManage\\publicManage\\test_public_manage.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nunit_tools\\apiutils_business.py:211: in execute_test_cases\n    raise e\nunit_tools\\apiutils_business.py:97: in execute_test_cases\n    headers = eval(self.parse_and_replace_variables(headers)) if isinstance(headers, str) else headers\nunit_tools\\apiutils_business.py:50: in parse_and_replace_variables\n    extract_data = getattr(DebugTalk(), func_name)(*func_params)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncls = <class 'unit_tools.debugtalk.DebugTalk'>, params_type = 'json'\n\n    @classmethod\n    def get_headers_auth(cls, params_type):\n        \"\"\"\n        获取带有授权信息的请求头\n        :param params_type: 参数类型，如“data”或“json”\n        :return: 返回带有授权信息的请求头\n        \"\"\"\n        auth1 = get_extract_yaml(\"access_token\", None)  # 从extract.yaml文件中获取access_token\n>       auth2 = 'Bearer ' + auth1   # 拼接成完整的授权信息\nE       TypeError: can only concatenate str (not \"NoneType\") to str\n\nunit_tools\\debugtalk.py:87: TypeError"}, "attachments": [{"name": "log", "source": "d4b374cf-8efe-4e5d-83f2-1a539092f73a-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "api_info", "value": "{'baseInfo': {'api_name': '修改角色', 'url': '/api/admin/role', 'method': 'put', 'headers': '${get_headers_auth(json)}', 'model': '权限管理-角色管理'}, 'testCase': [{'case_name': '修改角色', 'validation': [{'eq': {'ok': True}}, {'code': 200}], 'json': {'roleId': '1814554938152337409', 'roleName': '产品经理', 'roleCode': 'P_M', 'roleDesc': '角色描述', 'dsType': 0, 'dsScope': '', 'createBy': 'admin', 'updateBy': ' ', 'createTime': '2024-07-20 14:56:25', 'updateTime': None, 'delFlag': '0'}}]}"}], "start": 1725989450073, "stop": 1725989450074, "uuid": "f4110bc5-9e3c-4717-bcc6-bd14d90cbeea", "historyId": "eea19922db728dfbc7902c035ae10d66", "testCaseId": "f076fd31ebd9c3f980edeae6be979b6e", "fullName": "testcase.testManage.publicManage.test_public_manage.TestPublic#test_public_module", "labels": [{"name": "story", "value": "权限管理-角色管理"}, {"name": "parentSuite", "value": "testcase.testManage.publicManage"}, {"name": "suite", "value": "test_public_manage"}, {"name": "subSuite", "value": "TestPublic"}, {"name": "host", "value": "DESKTOP-NN9GVHM"}, {"name": "thread", "value": "17552-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.testManage.publicManage.test_public_manage"}]}